extends layout

block content
  if !user
    .container
      .page-header
        h1 Welcome to CloudBucket
          br
          small Online cloud storage with semantic search capability.
      br
      a.btn.btn-primary.btn-lg.btn-block(href='/auth/google', data-ignore='push') Login with Google
  else
    include _header
    .container
      .input-group.search-bar
        input.form-control(type='text', id='search-field', placeholder='Search all items by name or keywords')
        span.input-group-btn
          button.btn.btn-primary(type='button', id='search-btn')
            span.glyphicon.glyphicon-search
            |  Search

      if files.length < 1
        h3.text-center You do not have any files yet
      else
        table.file-table.table.table-hover.table-bordered
          tbody
            for file in files
              tr.file-row
                td.file-item(id='#{file.id}')
                  a(href='/files/#{file.id}')
                    strong= file.name
                  span.file-size.text-muted= file.friendlySize

  script.
    $('#search-btn').click(function() {
      var qs = $('#search-field').val();
      $.get('/search?q=' + qs, function(data) {
          console.log(data);
        });
    });
          